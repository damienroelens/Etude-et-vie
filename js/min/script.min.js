function initialize(){function e(e){n[e].addEventListener("click",addToCart,!1)}for(var n=document.getElementsByClassName("buy"),t=0;t<n.length;t++)e(t);var a,r=document.createElement("p"),l=document.getElementsByClassName("panier")[0].children[0];if(a=0==JSON.parse(localStorage.donn).length?document.createTextNode("0 articles dans le panier"):document.createTextNode(JSON.parse(localStorage.donn).length+" article(s) dans le panier"),r.appendChild(a),l.appendChild(r),"file:///C:/Users/vdb040/Desktop/Etudes%20et%20vie/html/panier.html"==location.href)if(localStorage.donn.length>2){var d=JSON.parse(localStorage.donn),o=document.createElement("ul");document.getElementsByTagName("section")[0].appendChild(o);for(var i=0;i<d.length;i++){var c=document.createElement("a"),p=document.createElement("span");p.appendChild(document.createTextNode(d[i].prix)),c.setAttribute("href","#"),c.appendChild(document.createTextNode("Retirer du panier"));var s=document.createElement("li");c.addEventListener("click",removeFromCart,!1);var m=document.createElement("h3");m.appendChild(document.createTextNode(d[i].title)),s.appendChild(m),s.appendChild(p),s.appendChild(c),o.appendChild(s)}}else{var h=document.createElement("p");h.appendChild(document.createTextNode("Vous n'avez pas d'article dans votre panier.")),document.getElementsByTagName("section")[0].appendChild(h)}}function addToCart(e){e.preventDefault();var n=new Array;localStorage.donn&&(n=JSON.parse(localStorage.donn));for(var t=this.parentNode.children[0],a=t.children[0].innerHTML,r=t.children[3].innerHTML,l=t.children[2].innerHTML,d=t.children[1].src,o=0;o<n.length;o++)if(n[o].title==a)return;var i={title:a,prix:r,desc:l,img:d};n.push(i),localStorage.donn=JSON.stringify(n),location.reload()}function removeFromCart(e){e.preventDefault();var n=JSON.parse(localStorage.donn),t=this.parentNode,a=t.children[0].innerHTML;t.children[1].innerHTML;for(var r=0;r<n.length;r++)if(n[r].title==a)var l=r;n.splice(l,1),""==n&&(n.length=0,localStorage.donn=JSON.stringify(n)),localStorage.donn=JSON.stringify(n),location.reload()}window.onload=initialize();